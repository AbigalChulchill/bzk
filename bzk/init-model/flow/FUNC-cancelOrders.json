{
  "clazz" : "net.bzk.flow.model.Flow",
  "uid" : "7fDTbOFBwVkP",
  "name" : "FUNC-cancelOrders",
  "boxs" : [ {
    "clazz" : "net.bzk.flow.model.Box",
    "uid" : "PF6LVYDiB9nt",
    "name" : "Box",
    "actions" : [ {
      "clazz" : "net.bzk.flow.model.Action$VarModifyAction",
      "uid" : "cvbd92bcDOoc",
      "name" : "InitVars",
      "tryErrorble" : false,
      "enable" : true,
      "devBoxVars" : {
        "orders" : [ {
          "orderId" : "35310159036"
        }, {
          "orderId" : "35310159035"
        } ]
      },
      "devFlowVars" : { },
      "minLogLv" : "NONE",
      "flatData" : [ {
        "key" : "body.origClientOrderIdList",
        "val" : "!javascript===\nlet ods = ${orders};\nlet ans= [];\nfor (const od of ods) {\n  ans.push(od.clientOrderId+\"\");\n}\nans;"
      }, {
        "key" : "body.symbol",
        "val" : "${symbol}"
      }, {
        "key" : "body.name",
        "val" : "cancel_order"
      }, {
        "key" : "body.apiKey",
        "val" : "${binance.key}"
      }, {
        "key" : "body.secret",
        "val" : "${binance.secret}"
      } ]
    }, {
      "clazz" : "net.bzk.flow.model.HttpAction",
      "uid" : "MxMMcLmgyU1D",
      "name" : "post",
      "tryErrorble" : false,
      "enable" : true,
      "devBoxVars" : { },
      "devFlowVars" : { },
      "minLogLv" : "NONE",
      "url" : "${binance.proxyHost}proxy",
      "uriVariables" : { },
      "body" : "${body}",
      "method" : "POST",
      "headers" : { },
      "headersFlat" : "",
      "key" : {
        "lv" : "not_specify",
        "key" : "result"
      }
    }, {
      "clazz" : "net.bzk.flow.model.Action$PolyglotAction",
      "uid" : "fNlEvk4ijECv",
      "name" : "getCount",
      "tryErrorble" : false,
      "enable" : true,
      "devBoxVars" : { },
      "devFlowVars" : { },
      "minLogLv" : "NONE",
      "code" : "const ods = ${orders};\nods.length;",
      "polyglot" : "js",
      "resultLv" : "not_specify",
      "resultKey" : "count"
    } ],
    "links" : [ {
      "clazz" : "net.bzk.flow.model.Link",
      "uid" : "LPRV2nDg3hb6",
      "name" : "countOK",
      "condition" : {
        "clazz" : "net.bzk.flow.model.Condition$ConditionNum",
        "kind" : "NONE",
        "next" : null,
        "left" : "${count}",
        "right" : "0",
        "type" : "lessthan_equal"
      },
      "transition" : {
        "toBox" : "",
        "endTag" : "NO ${symbol}",
        "failEnd" : false,
        "endResultKeys" : [ ],
        "resultCode" : ""
      },
      "enable" : true
    } ],
    "vars" : { },
    "taskSort" : [ "fNlEvk4ijECv", "LPRV2nDg3hb6", "cvbd92bcDOoc", "MxMMcLmgyU1D" ],
    "whileJudgment" : null,
    "transition" : {
      "toBox" : "",
      "endTag" : "DONE ${symbol}  ${count}",
      "failEnd" : false,
      "endResultKeys" : [ {
        "lv" : "not_specify",
        "key" : "result"
      } ],
      "resultCode" : ""
    },
    "minLogLv" : "DEBUG"
  } ],
  "varCfgNames" : [  ],
  "vars" : {
    "symbol" : "EOS",
    "orderSubtotal" : {
      "lastAt" : "2021-09-02T12:05:08.820000+00:00",
      "executedQty" : 104.7,
      "orders" : [ {
        "clientOrderId" : "_OxIx-stop_",
        "cumQuote" : 562.5531,
        "executedQty" : 104.7,
        "orderId" : 12813905024,
        "origQty" : 104.7,
        "price" : 0,
        "reduceOnly" : true,
        "side" : "BUY",
        "status" : "FILLED",
        "stopPrice" : 5.372,
        "symbol" : "EOSUSDT",
        "timeInForce" : "GTC",
        "type" : "MARKET",
        "updateTime" : 1630584308820,
        "workingType" : "CONTRACT_PRICE",
        "avgPrice" : 5.373,
        "origType" : "STOP_MARKET",
        "positionSide" : "SHORT",
        "activatePrice" : null,
        "priceRate" : null,
        "closePosition" : false,
        "updateAt" : "2021-09-02T12:05:08.820000+00:00"
      } ]
    },
    "orders" : [ {
      "clientOrderId" : "_OxIx-stop_",
      "cumQuote" : 562.5531,
      "executedQty" : 104.7,
      "orderId" : 12813905024,
      "origQty" : 104.7,
      "price" : 0,
      "reduceOnly" : true,
      "side" : "BUY",
      "status" : "FILLED",
      "stopPrice" : 5.372,
      "symbol" : "EOSUSDT",
      "timeInForce" : "GTC",
      "type" : "MARKET",
      "updateTime" : 1630584308820,
      "workingType" : "CONTRACT_PRICE",
      "avgPrice" : 5.373,
      "origType" : "STOP_MARKET",
      "positionSide" : "SHORT",
      "activatePrice" : null,
      "priceRate" : null,
      "closePosition" : false,
      "updateAt" : "2021-09-02T12:05:08.820000+00:00"
    } ]
  },
  "entry" : {
    "clazz" : "net.bzk.flow.model.Entry$PluginEntry",
    "boxUid" : "PF6LVYDiB9nt",
    "autoRegister" : false,
    "requiredKeys" : [ "orders", "symbol" ],
    "outputKeys" : [ ]
  },
  "threadCfg" : {
    "corePoolSize" : 10,
    "maximumPoolSize" : 50,
    "keepAliveTime" : 500,
    "aliveUnit" : "MINUTES"
  },
  "version" : 20
}